process {
    withName: 'CNA_PROCESSING'{
        memory = '30 GB'
        time = '30 min'
        errorStrategy = 'finish'
        publishDir = [
            [
                mode: params.publish_dir_mode,
                path: { "${params.outdir}/formatter/cna2cnaqc/${meta.dataset}/${meta.patient}/${meta.tumour_sample}/" },
                pattern: "*{rds}"
            ]
        ]
    }

    withName: 'VCF_PROCESSING'{
	    memory = '30 GB'
        time = '30 min'
        errorStrategy = 'finish'
        ext.args = {[
            "filter_mutations": params.vcf_filter_mutations
        ]}
        publishDir = [
            [
                mode: params.publish_dir_mode,
                path: { "${params.outdir}/formatter/vcf2cnaqc/${meta.dataset}/${meta.patient}/${meta.tumour_sample}/" },
                pattern: "*{rds}"
            ]
        ]
    }
    withName: 'RDS_PROCESSING'{
        memory = '30 GB'
        time = '30 min'
        errorStrategy = 'finish'
        publishDir = [
            [
                mode: params.publish_dir_mode,
                path: { "${params.outdir}/formatter/cnaqc2tsv/${meta.dataset}/${meta.patient}/" },
                pattern: "*{tsv}"
            ]
        ]
    }
}
