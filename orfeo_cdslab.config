nextflow.enable.dsl=2
cleanup=false

//env {
//     SINGULARITY_TMPDIR="/orfeo/LTS/LADE/LT_storage/lvaleriani/tmp"
//}

process{
    executor='slurm'
    queue='THIN'
}

params {
  //genome = "GRCh37"
  //fasta = "/orfeo/LTS/CDSLab/LT_storage/ref_genomes/BGI/GCA_000001405.14_GRCh37.p13_no_alt_analysis_set.fna"
  
  genome = "GRCh38"
  fasta = "/orfeo/LTS/CDSLab/LT_storage/ref_genomes/Homo_sapiens/GATK/GRCh38/Sequence/WholeGenomeFasta/Homo_sapiens_assembly38.fasta"
  tools = "mobster,viber,pyclone-vi"
  remove_tail = "all"

  vep_dir_cache = "/orfeo/LTS/CDSLab/LT_storage/ref_genomes/VEP"
  vep_cache_version = "110" 
  //"111" for GRCh37

  drivers_table = "/orfeo/LTS/CDSLab/LT_storage/nextflow_modules/2023-05-31_IntOGen-Drivers/Compendium_Cancer_Genes.tsv"
  dndscv_refcds_rda = "https://raw.githubusercontent.com/nicola-calonaci/test-datasets/evoverse/data/DRIVER_ANNOTATION/DNDSCV/RefCDS_human_GRCh37_dNdScv.0.1.0.rda"
}

singularity {
    //singularity.envWhitelist = ["SINGULARITY_TMPDIR"]
    //singularity.runOptions = '--bind /orfeo:/orfeo --bind $SINGULARITY_TMPDIR:/tmp'
    singularity.runOptions = '--bind /orfeo:/orfeo'
    singularity.cacheDir = ["NXF_SINGULARITY_CACHEDIR"]
}